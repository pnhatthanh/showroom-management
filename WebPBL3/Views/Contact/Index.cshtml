@model WebPBL3.DTO.FeedbackDTO;

@section ContactStyles {
    <link href="~/css/contact.css" rel="stylesheet" />
}

<div class="container-fluid bg-breadcrumb">
    <div class="container text-center py-5" style="max-width: 900px;">
    </div>
</div>
<div class="container-xxl py-5">
    <div class="container">
        <div class="text-center wow fadeInUp" data-wow-delay="0.1s">
            <h3 class="fw-bold text-uppercase mb-5" style="font-size: 30px">Liên hệ với chúng tôi</h3>
        </div>
        <div class="row g-4">
            <div class="col-12">
                <div class="row gy-4">
                    <div class="col-md-4">
                        <div class="bg-light d-flex flex-column justify-content-center p-4">
                            <h5 class="text-uppercase">Địa chỉ</h5>
                            <p class="m-0"><i class="fa-solid fa-location-dot text-danger me-2 pr-2"></i>Liên Chiểu, Đà Nẵng</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="bg-light d-flex flex-column justify-content-center p-4">
                            <h5 class="text-uppercase">Số điện thoại</h5>
                            <p class="m-0"><i class="fa-solid fa-phone text-danger me-2 pr-2"></i>0905688888</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="bg-light d-flex flex-column justify-content-center p-4">
                            <h5 class="text-uppercase">Email</h5>
                            <p class="m-0"><i class="fa fa-envelope-open text-danger me-2 pr-2"></i>dragoncar@gmail.com</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6 wow fadeIn" data-wow-delay="0.1s">
                <iframe class="position-relative rounded w-100 h-100"
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3001156.4288297426!2d-78.01371936852176!3d42.72876761954724!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4ccc4bf0f123a5a9%3A0xddcfc6c1de189567!2sNew%20York%2C%20USA!5e0!3m2!1sen!2sbd!4v1603794290143!5m2!1sen!2sbd"
                        frameborder="0" style="min-height: 350px; border:0;" allowfullscreen="" aria-hidden="false"
                        tabindex="0"></iframe>
            </div>
            <div class="col-md-6">
                <div class="wow fadeInUp" data-wow-delay="0.2s">
                    <p class="mb-4">Liên hệ với chúng tôi nếu bạn có bất kì thắc mắc nào!</p>
                    <form method="post" id="formC">
                        <div class="row g-3">
                            <div class="col-6 mb-2 form-group">
                                <span asp-validation-for="FullName" class="text-danger d-block"></span>
                                <input type="text" class="form-control" asp-for="FullName" placeholder="Họ và tên">
                            </div>
                            <div class="col-6 mb-2 form-group">
                                <span asp-validation-for="Email" class="text-danger d-block"></span>
                                <input type="email" class="form-control" asp-for="Email" placeholder="Địa chỉ email">
                            </div>
                            <div class="col-12 mb-2 form-group">
                                <span asp-validation-for="Title" class="text-danger d-block"></span>
                                <input type="text" class="form-control" asp-for="Title" placeholder="Chủ đề" />
                            </div>
                            <div class="col-12 mb-2 form-group">
                                <span asp-validation-for="Content" class="text-danger d-block"></span>
                                <textarea class="form-control" placeholder="Tin nhắn" asp-for="Content" style="height: 100px" rows="4"></textarea>
                            </div>
                            <div class="product-rating form-group" style="padding-left: 15px;">
                                <span class="fs-5">Đánh giá: </span>
                                <i class="fa-solid fa-star" id="star"></i>
                                <i class="fa-solid fa-star" id="star"></i>
                                <i class="fa-solid fa-star" id="star"></i>
                                <i class="fa-solid fa-star" id="star"></i>
                                <i class="fa-regular fa-star" id="star"></i>
                            </div>
                            <input type="number" id="rating" asp-for="Rating" hidden/>
                            <div class="col-12">
                                <button class="btn btn-danger fw-bold w-100 py-3" type="submit">Gửi</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    const stars = document.querySelectorAll('#star');
    const form = document.getElementById('formC');
    const rating = document.getElementById('rating');
    form.addEventListener('submit', (e) => {
        e.preventDefault();
        let count = 0;
        stars.forEach(star => {
            if (star.classList.contains('fa-solid')) {
                count++;
            }
        })
        rating.value = count;
        console.log(rating.value);
        form.submit();
    })
    stars.forEach((star,index) => star.addEventListener('click', () => {
        let value = index+1;
        for (let i = 0; i < stars.length; i++) {
            if (i < value) {
                stars[i].classList.remove('fa-regular');
                stars[i].classList.add('fa-solid');
            } else {
                stars[i].classList.remove('fa-solid');
                stars[i].classList.add('fa-regular');
            }
        }
    }));
</script>